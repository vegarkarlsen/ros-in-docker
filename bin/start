#!/usr/bin/bash

if [ -z $ROS_DOCKER_DISTRO ]; then
    export ROS_DOCKER_DISTRO="noetic"
fi

if [ -z $ROS_DOCKER_VERSION ]; then
    export ROS_DOCKER_VERSION="ros"
fi

export UID=$(id -u)
export GID=$(id -g)


# X - Server
export XSOCK=/tmp/.X11-unix
export XAUTH=/tmp/.ros_in_docker.xauth
touch $XAUTH
xauth nlist $DISPLAY | sed -e 's/^..../ffff/' | xauth -f $XAUTH nmerge -

docker compose up

# TODO: clean up XAUTH after closing container.



